<ul ngbNav #nav="ngbNav" class="nav-pills" orientation="vertical" style="padding-right: 5px;">
    <ng-container *ngFor="let item of menuItems">
        <ng-container *ngIf="!item.children">
            <li ngbNavItem="top" [ngClass]="{'active': item.isActive}">
                <button type="button" class="btn btn-link" style="padding: 0; text-decoration: none; color: #555555; display: flex; width: 100%;" (click)="onMenuItemClick(item)">{{item.label}}</button>
            </li>
        </ng-container>
        <div *ngIf="item.children">
            <li ngbNavItem="top" [ngClass]="{'active': item.isActive}">
                <button type="button" class="btn btn-link" style="padding: 0; text-decoration: none; color: #555555; display: flex; width: 100%;" (click)="onMenuItemClick(item)">{{item.label}}</button>
            </li>
            <div style="padding-left: 15px; padding-top: 5px;" *ngIf="item.expanded">
                <ul ngbNav #nav="ngbNav" class="nav-pills" orientation="vertical" style="padding-right: 5px;">
                    <ng-container *ngFor="let item of item.children">
                        <li ngbNavItem="top" [ngClass]="{'active': item.isActive}">
                            <button type="button" class="btn btn-link" style="padding: 0; text-decoration: none; color: #555555; display: flex; width: 100%;" (click)="onMenuItemClick(item, true)">{{item.label}}</button>
                        </li>
                    </ng-container>
                </ul>
            </div>
        </div>
    </ng-container>
</ul>

<!-- <div [ngTemplateOutlet]="menuItemsTemp" [ngTemplateOutletContext]="{items: menuItems}"></div>

<ng-template #menuItemsTemp let-items="items" let-isChild="isChild">
    <ul ngbNav #nav="ngbNav" class="nav-pills" orientation="vertical" style="padding-right: 5px;">
        <ng-container *ngFor="let item of items">
            <ng-container *ngIf="!item.children">
                <li ngbNavItem="top" [ngClass]="{'active': item.isActive}">
                    <button type="button" class="btn btn-link" style="padding: 0; text-decoration: none; color: #555555; display: flex; width: 100%;" (click)="onMenuItemClick(item, isChild)">{{item.label}}</button>
                </li>
            </ng-container>
            <div *ngIf="item.children">
                <li ngbNavItem="top" [ngClass]="{'active': item.isActive}">
                    <button type="button" class="btn btn-link" style="padding: 0; text-decoration: none; color: #555555; display: flex; width: 100%;" (click)="onMenuItemClick(item, isChild)">{{item.label}}</button>
                </li>
                <div style="padding-left: 15px; padding-top: 5px;" *ngIf="item.expanded">
                    <div [ngTemplateOutlet]="menuItemsTemp" [ngTemplateOutletContext]="{items: item.children, isChild: true}"></div>
                </div>
            </div>
        </ng-container>
    </ul>
</ng-template> -->